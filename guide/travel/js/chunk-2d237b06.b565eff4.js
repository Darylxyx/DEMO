(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d237b06"],{fbd8:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{ref:"stats"}),i("div",{ref:"canvas",attrs:{id:"WebGL-output"}})])},r=[],a=(i("7f7f"),i("42c5")),o=i("f383"),s=i("872c"),d=(i("14b9"),{methods:{addCenter:function(){var t=new THREE.Group,e=this.loadTexture("img/building.png"),i=new THREE.SpriteMaterial({map:e}),n=new THREE.Sprite(i);n.scale.set(65,65,65),this.bindCenterAnim(n),t.add(n);var r=this.loadTexture("img/building-bg.png"),a=new THREE.SpriteMaterial({map:r}),o=new THREE.Sprite(a);o.scale.set(90,90,90),t.add(o),t.position.set(-20,5,0);for(var s=[-20,22,-7,2,3,30],d=0;d<6;d++){var c=Math.round(d/2+.5),p=this.loadTexture("img/line".concat(c,".png")),h=new THREE.SpriteMaterial({map:p,transparent:!0,opacity:.5}),u=new THREE.Sprite(h);u.scale.set(.6,12,1),u.position.set(s[d],-15,-1),this.bindLineAnim(u),t.add(u)}this.mainGroup.add(t)},bindCenterAnim:function(t){var e={y:0},i=this.createTween({start:e,end:{y:2},duration:2e3,repeat:1/0,yoyo:!0,easing:"InOut",onUpdate:function(e){t.position.y=e.y}});i.start()},bindLineAnim:function(t){var e={y:-15},i=1e3*Math.random()+500,n=1e3*Math.random(),r=new TWEEN.Tween(e).to({y:100},i).onUpdate(function(e){t.position.y=e.y}).delay(n).repeat(1/0);r.start()}}}),c=i("5176"),p=i.n(c),h=Math.random,u=Math.round,l=[{start:{x:-65,y:-47},end:{x:-39,y:-20},shift:15},{start:{x:-173,y:40},end:{x:-45,y:-9},shift:40},{start:{x:-173,y:-10},end:{x:-51,y:-13},shift:30},{start:{x:-155,y:-70},end:{x:-43,y:-18},shift:-25},{start:{x:-115,y:-32},end:{x:-46,y:-16},shift:-10},{start:{x:-115,y:18},end:{x:-48,y:-11},shift:15},{start:{x:25,y:-47},end:{x:-1,y:-20},shift:-15},{start:{x:100,y:-70},end:{x:2,y:-18},shift:25},{start:{x:70,y:18},end:{x:8,y:-11},shift:-15},{start:{x:70,y:-32},end:{x:6,y:-16},shift:15},{start:{x:130,y:40},end:{x:6,y:-10},shift:-30},{start:{x:130,y:-10},end:{x:10,y:-13},shift:-25}],y={methods:{drawLine:function(){var t=this,e=[{hex:2083832,type:"blue",rgb:{r:31,g:203,b:248}},{hex:14268700,type:"yellow",rgb:{r:217,g:185,b:28}}],i={};this.lineGroup=new THREE.Group,l.forEach(function(n){var r=e[u(h()*(e.length-1))],a=t.interpolation(n),o=t.initBezier(a,{color:r.hex,transparent:!0,opacity:.9});i[r.type]||(i[r.type]={BezierList:[],rgb:r.rgb}),i[r.type].BezierList.push(o),t.lineGroup.add(o)}),this.addLineAnim(i),this.mainGroup.add(this.lineGroup)},interpolation:function(t){var e=t.start,i=t.end,n=t.shift;e.z=0,i.z=0;var r=this.countMid(e,i,n),a=r.p1,o=r.p2;return[e,a,o,i]},countMid:function(t,e,i){var n=this.calcVector(t,e),r=this.calcVectorLength(n),a=this.vectorUnit(n),o=.5*r,s=.7*r,d=this.vectorAdd(t,this.vectorNumMultiply(a,o)),c=this.vectorAdd(t,this.vectorNumMultiply(a,s)),p=this.vectorProduct(a,{x:0,y:0,z:-1},!0),h=this.vectorAdd(d,this.vectorNumMultiply(p,i)),u=this.vectorAdd(c,this.vectorNumMultiply(this.vectorNumMultiply(p,-.5),i));return{p1:h,p2:u}},addLineAnim:function(t){var e=this,i=function(i){var n=new THREE.Geometry,r=new THREE.Geometry,a=[];t[i].BezierList.forEach(function(t){var e=(new THREE.Geometry).fromBufferGeometry(t.geometry);e.mergeVertices(),n.vertices.push(e.vertices[0]),r.vertices.push(e.vertices[e.vertices.length-1]),a.push(e.vertices)});var o=e.addPoints(n,t[i].rgb);e.lineGroup.add(o);var s=e.addPoints(r,t[i].rgb,2);e.lineGroup.add(s),a.forEach(function(t,i){var n=[],r=p()({},t[0]),a=o.geometry.vertices[i],s=50*h()+50,d=1e3*h();t.forEach(function(t,i){if(0!==i){var r=t.x,d=t.y,c=t.z,p=e.createTween({start:a,end:{x:r,y:d,z:c},duration:s,onUpdate:function(){o.geometry.verticesNeedUpdate=!0}});n.push(p)}});var c=n[0],u=n[n.length-1];u.onComplete(function(){o.geometry.verticesNeedUpdate=!0,a.z=-100;var t=window.setTimeout(function(){window.clearTimeout(t),o.geometry.verticesNeedUpdate=!0,a.x=r.x,a.y=r.y,a.z=r.z,c.start()},d)}),n.forEach(function(t,e){if(e!==n.length-1){var i=n[e+1];t.chain(i)}}),c.start()})};for(var n in t)i(n)}}},m=(Math.PI,Math.cos,Math.sin,Math.floor,window),x=m.THREE,f=m.TWEEN,v={mixins:[o["a"],a["a"],s["a"],d,y],data:function(){return{sectionList:[{name:"气象局",icon:"qxj",position:{x:-193,y:50,z:0}},{name:"卫健局",icon:"wjj",position:{x:-135,y:30,z:0}},{name:"生态环境局",icon:"sthjj",position:{x:-193,y:0,z:0}},{name:"监督管理局",icon:"jdglj",position:{x:-135,y:-20,z:0}},{name:"公安局",icon:"gaj",position:{x:-175,y:-60,z:0}},{name:"交通运输管理局",icon:"jtysglj",position:{x:-65,y:-60,z:0}},{name:"省厅数据平台",icon:"stsjpt",position:{x:25,y:-60,z:0}},{name:"文化旅游局",icon:"whlyj",position:{x:90,y:30,z:0}},{name:"自建设备",icon:"zjsb",position:{x:150,y:50,z:0}},{name:"市数据平台",icon:"ssjpt",position:{x:150,y:0,z:0}},{name:"景区数据",icon:"jqsj",position:{x:90,y:-20,z:0}},{name:"网络数据",icon:"wlsj",position:{x:120,y:-60,z:0}}],columnList:["异常","正常","今日接入条数","今日共享条数","共享数据单位","共享数据部类"],mainGroup:new x.Group}},methods:{initWebGL:function(){var t=this.initBasics(this.$refs.canvas,{position:{x:0,y:0,z:0},antialias:!0},{clearColor:0,shadowEnabled:!0}),e=t.scene,i=t.camera,n=t.renderer;this.scene=e,this.camera=i,this.renderer=n,this.scene.add(this.mainGroup),this.mainGroup.position.x=-10,this.resetCameraPosition(),this.addCenter(),this.addColumn(),this.addSection(),this.drawLine(),this.addBackground();var r=function t(){f.update(),requestAnimationFrame(t),n.render(e,i)};r()},addSection:function(){var t=this,e=new x.Group;this.sectionList.forEach(function(i){var n=new x.Group,r=i.name,a=i.icon,o=i.position,s=o.x,d=o.y,c=o.z,p=t.loadTexture("img/".concat(a,".png")),h=new x.SpriteMaterial({map:p}),u=new x.Sprite(h);u.scale.set(45,45,1),n.add(u);var l={textColor:"#DCDCDC",scale:35},y=t.textSprite(r,l);y.position.y=-18,n.add(y),n.position.set(s,d,c),e.add(n)}),this.mainGroup.add(e)},addColumn:function(){for(var t=new x.Group,e=this.columnList.length,i=23,n=-69,r=20,a=0,o=this.loadTexture("img/red@3x.png"),s=new x.SpriteMaterial({map:o}),d=this.loadTexture("img/green@3x.png"),c=new x.SpriteMaterial({map:d}),p=this.loadTexture("img/blue@3x.png"),h=new x.SpriteMaterial({map:p}),u=this.loadTexture("img/bluegreen@2x.png"),l=new x.SpriteMaterial({map:u}),y=[s,c,h,h,l,l],m=0;m<e;m++){var f=new x.Group,v=new x.Sprite(y[m]);v.scale.set(2*r,r,r),f.add(v),m>1&&(a=4),m>3&&(a=8);var g=this.textSprite(this.columnList[m],{textColor:"#DCDCDC",scale:30});g.position.y=-2.3,f.add(g);var w=n+m*i+a;f.position.set(195,w,0),t.add(f)}this.scene.add(t)}}},g=v,w=i("2877"),E=Object(w["a"])(g,n,r,!1,null,null,null);e["default"]=E.exports}}]);
//# sourceMappingURL=chunk-2d237b06.b565eff4.js.map
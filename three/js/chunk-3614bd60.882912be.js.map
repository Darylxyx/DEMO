{"version":3,"sources":["webpack:///./src/views/PieChart.vue?de01","webpack:///./src/views/PieChart.vue?5b17","webpack:///src/views/PieChart.vue","webpack:///./src/views/PieChart.vue?cbb8","webpack:///./src/views/PieChart.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PieChart_vue_vue_type_style_index_0_id_c27844de_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PieChart_vue_vue_type_style_index_0_id_c27844de_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","_v","_s","dataInfo","name","percent","attrs","id","staticRenderFns","TWEEN","window","PI","Math","cos","sin","mainGroup","THREE","Group","pieGroup","PieChartvue_type_script_lang_js_","mixins","threeMixin","data","methods","initWebGL","_this$initBasics","initBasics","$refs","canvas","position","x","y","z","antialias","clearColor","shadowEnabled","scene","camera","renderer","stats","initStats","dataArr","addPie","addLight","listenMouseCover","add","control","addControl","clock","Clock","renderScene","update","getDelta","requestAnimationFrame","addAxes","axes","initAxes","_this","total","forEach","value","options","depth","bevelThickness","bevelSize","bevelSegments","bevelEnabled","curveSegments","steps","start","colorList","nameList","i","target","shape","drawShape","mat","initMaterial","color","geom","ExtrudeGeometry","pie","Mesh","rotation","castShadow","receiveShadow","concat","toFixed","bindTween","initControls","rotateSpeed","zoomSpeed","panSpeed","lightGroup","ambientLight","initLight","initTarget","directionalLight","intensity","shadow","near","far","left","right","top","bottom","mapSize","width","height","end","fragment","round","vertices","v2","push","Shape","_this2","targetList","children","prevPie","currentPie","listenEvent","e","length","toggleInfo","tweenIn","stop","tweenOut","object","duration","obj","onStart","isAnimating","onUpdate","onComplete","onStop","Tween","to","easing","Easing","Sinusoidal","InOut","type","event","card","clientX","clientY","style","opacity","test","x1","y1","x2","y2","orthX","orthY","maxX","max","minX","min","maxY","minY","middleX","middleY","vectorX","vectorY","len","sqrt","pow","console","log","offset","targetX","targetY","mounted","views_PieChartvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"kHAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAsiBE,EAAG,8CCAziB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,IAAA,UAAYF,EAAA,OAAYE,IAAA,OAAAC,YAAA,QAA8B,CAAAH,EAAA,KAAAJ,EAAAQ,GAAA,OAAAR,EAAAS,GAAAT,EAAAU,SAAAC,MAAA,QAAAP,EAAA,KAAAJ,EAAAQ,GAAA,OAAAR,EAAAS,GAAAT,EAAAU,SAAAE,SAAA,UAAAR,EAAA,OAAqIE,IAAA,SAAAO,MAAA,CAAoBC,GAAA,qBACnUC,EAAA,eCYAC,EAAAC,OAAAD,MACAE,EAAAC,KAAAD,GACAE,EAAAD,KAAAC,IACAC,EAAAF,KAAAE,IACAC,EAAA,IAAAC,MAAAC,MACAC,EAAA,IAAAF,MAAAC,MACAE,EAAA,CACAC,OAAA,CAAAC,EAAA,MACAC,KAFA,WAGA,OACAnB,SAAA,KAGAoB,QAAA,CACAC,UADA,WACA,IAAAC,EAKA/B,KAAAgC,WAAAhC,KAAAiC,MAAAC,OAAA,CAAAC,SAAA,CAAAC,EAAA,EAAAC,EAAA,GAAAC,EAAA,IAAAC,WAAA,IAAAC,WAAA,SAAAC,eAAA,IAHAC,EAFAX,EAEAW,MACAC,EAHAZ,EAGAY,OACAC,EAJAb,EAIAa,SAEA5C,KAAA0C,QACA1C,KAAA2C,SACA3C,KAAA4C,WAEA,IAAAC,EAAA7C,KAAA8C,UAAA9C,KAAAiC,MAAAY,OAIAE,EAAA,kBACA/C,KAAAgD,OAAAD,GAEA/C,KAAAiD,WAEAjD,KAAAkD,mBAEAR,EAAAS,IAAA9B,GAEA,IAAA+B,EAAApD,KAAAqD,aACAC,EAAA,IAAAhC,MAAAiC,MAEAC,EAAA,SAAAA,IACAzC,EAAA0C,SACAZ,EAAAY,SACAH,EAAAI,WACAN,EAAAK,SACAE,sBAAAH,GACAZ,EAAA9C,OAAA4C,EAAAC,IAGAa,KAEAI,QAtCA,WAuCA,IAAAC,EAAA7D,KAAA8D,SAAA,IACAzC,EAAA8B,IAAAU,IAEAb,OA1CA,SA0CAD,GAAA,IAAAgB,EAAA/D,KACAgE,EAAA,EACAjB,EAAAkB,QAAA,SAAAC,GACAF,GAAAE,IAEA,IAAAC,EAAA,CACAC,MAAA,GACAC,eAAA,EACAC,UAAA,EACAC,cAAA,EACAC,cAAA,EACAC,cAAA,GACAC,MAAA,GAEAC,EAAA,EACAC,EAAA,6CACAC,EAAA,sBACA9B,EAAAkB,QAAA,SAAAC,EAAAY,GACA,IAAAnE,EAAAuD,EAAAF,EACAe,EAAA,EAAA9D,EAAAN,EACAqE,EAAAjB,EAAAkB,UAAA,EAAAF,GACAG,EAAAnB,EAAAoB,aAAA,eAAAC,MAAAR,EAAAE,KACAO,EAAA,IAAA/D,MAAAgE,gBAAAN,EAAAb,GACAoB,EAAA,IAAAjE,MAAAkE,KAAAH,EAAAH,GAEAK,EAAAE,SAAAnD,EAAAqC,EACAY,EAAAG,YAAA,EACAH,EAAAI,eAAA,EAEAJ,EAAA9E,SAAA,CACAC,KAAAmE,EAAAC,GACAnE,QAAA,GAAAiF,QAAA,IAAAjF,GAAAkF,QAAA,SAGA9B,EAAA+B,UAAAP,GACA/D,EAAA2B,IAAAoC,GACAZ,GAAAI,IAEAvD,EAAAiE,SAAArD,GAAAnB,EAAA,EACAI,EAAA8B,IAAA3B,IAEA6B,WAnFA,WAoFA,IAAAD,EAAApD,KAAA+F,aAAA,YAAA/F,KAAA2C,OAAA,CACAqD,YAAA,EACAC,UAAA,EACAC,SAAA,IAEA,OAAA9C,GAEAH,SA3FA,WA4FA,IAAAkD,EAAA,IAAA7E,MAAAC,MACA6E,EAAApG,KAAAqG,UAAA,WAAAjB,MAAA,WACAL,EAAA/E,KAAAsG,WAAA,OACAH,EAAAhD,IAAA4B,GACA,IAAAwB,EAAAvG,KAAAqG,UAAA,eACAjB,MAAA,SACAoB,UAAA,GACArE,SAAA,CAAAC,EAAA,GAAAC,EAAA,GAAAC,EAAA,IACAoD,YAAA,EACAe,OAAA,CACA9D,OAAA,CACA+D,KAAA,EACAC,IAAA,GACAC,MAAA,GACAC,MAAA,GACAC,IAAA,GACAC,QAAA,IAEAC,QAAA,CACAC,MAAA,KACAC,OAAA,SAIAX,EAAAxB,SAGAoB,EAAAhD,IAAAiD,GACAD,EAAAhD,IAAAoD,GACAlF,EAAA8B,IAAAgD,IAEAlB,UA3HA,SA2HAN,EAAAwC,GAGA,IAFA,IAAAC,EAAAlG,KAAAmG,OAAAF,EAAAxC,IAAA,EAAA1D,GAAA,KACAqG,EAAA,CAAAtH,KAAAuH,GAAA,MACAzC,EAAA,EAAAA,GAAAsC,EAAAtC,IAAA,CACA,IAAA1C,EAAA,GAAAjB,EAAAgG,EAAArC,EAAAsC,GACA/E,EAAA,GAAAjB,EAAA+F,EAAArC,EAAAsC,GACAE,EAAAE,KAAAxH,KAAAuH,GAAAnF,EAAAC,IAEA,IAAA2C,EAAA,IAAA1D,MAAAmG,MAAAH,GAEA,OAAAtC,GAEA9B,iBAvIA,WAuIA,IAAAwE,EAAA1H,KACA2H,EAAAnG,EAAAoG,SACAC,EAAA,KACAC,EAAA,KACA9H,KAAA+H,YAAA,YAAA/H,KAAA2C,OAAAgF,EAAA,SAAA5C,EAAAiD,GAEA,IAAAjD,EAAAkD,OAOA,OANAP,EAAAQ,YAAA,EAAAF,EAAA,SACAH,IACAA,EAAAM,QAAAC,OACAP,EAAAQ,SAAA1D,QACAkD,EAAA,OAIAC,EAAA/C,EAAA,GAAAuD,OACAZ,EAAAQ,YAAA,EAAAF,EAAAF,EAAArH,UACAqH,IAAAD,IAEAA,IACAA,EAAAM,QAAAC,OACAP,EAAAQ,SAAA1D,SAGAmD,EAAAO,SAAAD,OACAN,EAAAK,QAAAxD,QACAkD,EAAAC,MAGAhC,UApKA,SAoKAf,GACA,IAAAwD,EAAA,IACAC,EAAA,CAAAlG,EAAAyC,EAAA5C,SAAAG,GAGA,SAAAmG,IACA1D,EAAA2D,aAAA,EAEA,SAAAC,EAAAH,GACAzD,EAAA5C,SAAAG,EAAAkG,EAAAlG,EAEA,SAAAsG,IACA7D,EAAA2D,aAAA,EAEA,SAAAG,IACA9D,EAAA2D,aAAA,EAZA3D,EAAA2D,aAAA,EAeA,IAAAP,EAAA,IAAApH,EAAA+H,MAAAN,GACAO,GAAA,CAAAzG,EAAA,KAAAiG,GACAS,OAAAjI,EAAAkI,OAAAC,WAAAC,OACAV,WACAE,YACAC,cACAC,UACA9D,EAAAoD,UAEA,IAAAE,EAAA,IAAAtH,EAAA+H,MAAAN,GACAO,GAAA,CAAAzG,EAAA,GAAAiG,GACAS,OAAAjI,EAAAkI,OAAAC,WAAAC,OACAV,WACAE,YACAC,cACAC,UACA9D,EAAAsD,YAEAH,WAxMA,SAwMAkB,EAAAC,EAAAzH,GACA,IAAAmD,EAAA/E,KAAAiC,MAAAqH,KACAtJ,KAAAS,SAAAmB,EACA,IAAAQ,EAAAiH,EAAAE,QACAlH,EAAAgH,EAAAG,QACAzE,EAAA0E,MAAA3C,IAAA,GAAAlB,OAAAvD,EAAA,SACA0C,EAAA0E,MAAA7C,KAAA,GAAAhB,OAAAxD,EAAA,SAEA2C,EAAA0E,MAAAC,QADAN,EACA,EAEA,GAGAO,KArNA,SAqNAC,EAAAC,EAAAC,EAAAC,GACA,IAQAC,EACAC,EATAC,EAAAhJ,KAAAiJ,IAAAP,EAAAE,GACAM,EAAAlJ,KAAAmJ,IAAAT,EAAAE,GACAQ,EAAApJ,KAAAiJ,IAAAN,EAAAE,GACAQ,EAAArJ,KAAAmJ,IAAAR,EAAAE,GACAS,GAAAN,EAAAE,GAAA,EAAAA,EACAK,GAAAH,EAAAC,GAAA,EAAAA,EACAG,EAAAd,EAAAE,EACAa,EAAAd,EAAAE,EAGA,OAAAW,EACAV,EAAA,EACAC,EAAA,OACA,OAAAU,EACAV,EAAA,EACAD,EAAA,MACA,CACAC,EAAA,EACAD,GAAAW,EAAAD,EAEA,IAAAE,EAAA1J,KAAA2J,KAAA3J,KAAA4J,IAAAd,EAAA,GAAA9I,KAAA4J,IAAAb,EAAA,IACAc,QAAAC,IAAAJ,GACAX,GAAAW,EACAZ,GAAAY,EAEA,IAAAK,EAAA,EACAC,EAAAV,EAAAS,EAAAjB,EACAmB,EAAAV,EAAAQ,EAAAhB,EACAc,QAAAC,IAAAE,EAAAC,KAGAC,QA5PA,WA6PApL,KAAA8B,YACA9B,KAAA2J,KAAA,WCjRkV0B,EAAA,0BCQlVC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAvL,EACAgB,GACF,EACA,KACA,WACA,MAIe2K,EAAA,WAAAH","file":"js/chunk-3614bd60.882912be.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PieChart.vue?vue&type=style&index=0&id=c27844de&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PieChart.vue?vue&type=style&index=0&id=c27844de&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"stats\"}),_c('div',{ref:\"card\",staticClass:\"card\"},[_c('p',[_vm._v(\"名称: \"+_vm._s(_vm.dataInfo.name || '-'))]),_c('p',[_vm._v(\"占比: \"+_vm._s(_vm.dataInfo.percent || '-'))])]),_c('div',{ref:\"canvas\",attrs:{\"id\":\"WebGL-output\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div ref='stats'></div>\n        <div ref='card' class='card'>\n            <p>名称: {{dataInfo.name || '-'}}</p>\n            <p>占比: {{dataInfo.percent || '-'}}</p>\n        </div>\n        <div ref='canvas' id='WebGL-output'></div>\n    </div>\n</template>\n<script>\nimport mixin from '../mixins/threeMixin';\n\nconst TWEEN = window.TWEEN;\nconst PI = Math.PI;\nconst cos = Math.cos;\nconst sin = Math.sin;\nconst mainGroup = new THREE.Group();\nconst pieGroup = new THREE.Group();\nexport default {\n    mixins: [mixin],\n    data() {\n        return {\n            dataInfo: {},\n        }\n    },\n    methods: {\n        initWebGL() {\n            const {\n                scene,\n                camera,\n                renderer,\n            } = this.initBasics(this.$refs.canvas, { position: { x: 0, y: 25, z: 20 }, antialias: true }, { clearColor: 0xf1f1f1, shadowEnabled: true });\n            this.scene = scene;\n            this.camera = camera;\n            this.renderer = renderer;\n\n            const stats = this.initStats(this.$refs.stats); // 添加性能监测\n\n            // this.addAxes(); // 添加坐标轴\n\n            const dataArr = [30, 50, 120, 10, 60];\n            this.addPie(dataArr); // 添加饼状图\n\n            this.addLight(); // 添加光源\n\n            this.listenMouseCover(); // 添加光标监听\n\n            scene.add(mainGroup);\n\n            const control = this.addControl();\n            const clock = new THREE.Clock();\n\n            const renderScene = () => {\n                TWEEN.update();\n                stats.update();\n                const delta = clock.getDelta();\n                control.update();\n                requestAnimationFrame(renderScene);\n                renderer.render(scene, camera);\n            };\n\n            renderScene();\n        },\n        addAxes() {\n            const axes = this.initAxes(30);\n            mainGroup.add(axes);\n        },\n        addPie(dataArr) {\n            let total = 0;\n            dataArr.forEach((value) => {\n                total += value;\n            });\n            const options = {\n                depth: 0.5,\n                bevelThickness: 1,\n                bevelSize: 0,\n                bevelSegments: 3,\n                bevelEnabled: true,\n                curveSegments: 12,\n                steps: 1\n            };\n            let start = 0; // 起始绘制点，单位弧度\n            const colorList = [0x3098D5, 0x5CDCDF, 0xFFD652, 0xFF9474, 0xE285CB];\n            const nameList = ['A', 'B', 'C', 'D', 'E'];\n            dataArr.forEach((value, i) => {\n                const percent = value / total;\n                const target = PI * 2 * percent;\n                const shape = this.drawShape(0, target);\n                const mat = this.initMaterial('MeshLambert', {color: colorList[i]});\n                const geom = new THREE.ExtrudeGeometry(shape, options);\n                const pie = new THREE.Mesh(geom, mat);\n                // pie.position.z = i * 1;\n                pie.rotation.z = start;\n                pie.castShadow = true;\n                pie.receiveShadow = true;\n\n                pie.dataInfo = {\n                    name: nameList[i],\n                    percent: `${(percent * 100).toFixed(1)}%`,\n                };\n\n                this.bindTween(pie); // 为饼单元绑定tween动画\n                pieGroup.add(pie);\n                start += target;\n            });\n            pieGroup.rotation.x = - PI / 2;\n            mainGroup.add(pieGroup);\n        },\n        addControl() {\n            const control = this.initControls('Trackball', this.camera, {\n                rotateSpeed: 1.0,\n                zoomSpeed: 1.0,\n                panSpeed: 1.0,\n            });\n            return control;\n        },\n        addLight() {\n            const lightGroup = new THREE.Group();\n            const ambientLight = this.initLight('Ambient', {color: 0xeeeeee});\n            const target = this.initTarget(0, 0, 0);\n            lightGroup.add(target);\n            const directionalLight = this.initLight('Directional', {\n                color: 0xeeeeee,\n                intensity: 0.2,\n                position: {x: 10, y: 20, z: 10},\n                castShadow: true,\n                shadow: {\n                    camera: {\n                        near: 2,\n                        far: 40,\n                        left: -15,\n                        right: 15,\n                        top: 15,\n                        bottom: -15,\n                    },\n                    mapSize: {\n                        width: 2048,\n                        height: 2048,\n                    },\n                },\n            });\n            directionalLight.target = target;\n            // const helper = new THREE.CameraHelper(directionalLight.shadow.camera);\n            // this.scene.add(helper);\n            lightGroup.add(ambientLight);\n            lightGroup.add(directionalLight);\n            mainGroup.add(lightGroup);\n        },\n        drawShape(start, end) {\n            const fragment = Math.round((end - start) / (PI * 2) * 200);\n            const vertices = [this.v2(0, 0)];\n            for (let i = 0; i <= fragment; i++) {\n                const x = 10 * cos(end * i / fragment);\n                const y = 10 * sin(end * i / fragment);\n                vertices.push(this.v2(x, y));\n            }\n            const shape = new THREE.Shape(vertices);\n            // const shapeGeom = shape.makeGeometry();\n            return shape;\n        },\n        listenMouseCover() {\n            const targetList = pieGroup.children;\n            let prevPie = null;\n            let currentPie = null;\n            this.listenEvent('mousemove', this.camera, targetList, (target, e) => {\n                // console.log(target);\n                if (!target.length) {\n                    this.toggleInfo(false, e, {});\n                    if (prevPie) {\n                        prevPie.tweenIn.stop();\n                        prevPie.tweenOut.start();\n                        prevPie = null;\n                    }\n                    return;\n                }\n                currentPie = target[0].object;\n                this.toggleInfo(true, e, currentPie.dataInfo);\n                if (currentPie === prevPie) return;\n\n                if (prevPie) {\n                    prevPie.tweenIn.stop();\n                    prevPie.tweenOut.start();\n                }\n\n                currentPie.tweenOut.stop();\n                currentPie.tweenIn.start();\n                prevPie = currentPie;\n            });\n        },\n        bindTween(target) {\n            const duration = 500;\n            const obj = { z: target.position.z };\n            target.isAnimating = false;\n\n            function onStart() {\n                target.isAnimating = true;\n            }\n            function onUpdate(obj) {\n                target.position.z = obj.z;\n            }\n            function onComplete() {\n                target.isAnimating = false;\n            }\n            function onStop() {\n                target.isAnimating = false;\n            }\n\n            const tweenIn = new TWEEN.Tween(obj)\n                .to({ z: 2.5 }, duration)\n                .easing(TWEEN.Easing.Sinusoidal.InOut)\n                .onStart(onStart)\n                .onUpdate(onUpdate)\n                .onComplete(onComplete)\n                .onStop(onStop);\n            target.tweenIn = tweenIn;\n\n            const tweenOut = new TWEEN.Tween(obj)\n                .to({ z: 0 }, duration)\n                .easing(TWEEN.Easing.Sinusoidal.InOut)\n                .onStart(onStart)\n                .onUpdate(onUpdate)\n                .onComplete(onComplete)\n                .onStop(onStop);\n            target.tweenOut = tweenOut;\n        },\n        toggleInfo(type, event, data) {\n            const target = this.$refs.card;\n            this.dataInfo = data;\n            const x = event.clientX;\n            const y = event.clientY;\n            target.style.top = `${y + 20}px`;\n            target.style.left = `${x + 20}px`;\n            if (type) {\n                target.style.opacity = 1;\n            } else {\n                target.style.opacity = 0;\n            }\n        },\n        test(x1, y1, x2, y2) {\n            const maxX = Math.max(x1, x2);\n            const minX = Math.min(x1, x2);\n            const maxY = Math.max(y1, y2);\n            const minY = Math.min(y1, y2);\n            const middleX = (maxX - minX) / 2 + minX;\n            const middleY = (maxY - minY) / 2 + minY;\n            const vectorX = x1 - x2;\n            const vectorY = y1 - y2;\n            let orthX;\n            let orthY;\n            if (vectorX === 0) { // 求正交向量\n                orthX = 1;\n                orthY = 0;\n            } else if (vectorY === 0) {\n                orthY = 1;\n                orthX = 0;\n            } else {\n                orthY = 1;\n                orthX = - vectorY / vectorX;\n                // 单位化\n                const len = Math.sqrt(Math.pow(orthX, 2) + Math.pow(orthY, 2));\n                console.log(len);\n                orthY = orthY / len;\n                orthX = orthX / len;\n            }\n            const offset = 3;\n            const targetX = middleX + (offset * orthX);\n            const targetY = middleY + (offset * orthY);\n            console.log(targetX, targetY);\n        },\n    },\n    mounted() {\n        this.initWebGL();\n        this.test(1, 3, 2, 1);\n    }\n};\n</script>\n<style lang='less' scoped>\n.card {\n    padding: 10px;\n    background-color: rgba(0,0,0,0.5);\n    position: absolute;\n    z-index: 3;\n    opacity: 0;\n    border-radius: 5px;\n    transition: all 0.1s linear;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    p {\n        font-size: 16px;\n        color: #fff;\n        line-height: 1;\n        text-align: left;\n        white-space: nowrap;\n\n        &:first-child {\n            margin-bottom: 5px;\n        }\n    }\n}\n#WebGL-output{\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PieChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PieChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PieChart.vue?vue&type=template&id=c27844de&scoped=true&\"\nimport script from \"./PieChart.vue?vue&type=script&lang=js&\"\nexport * from \"./PieChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PieChart.vue?vue&type=style&index=0&id=c27844de&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c27844de\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
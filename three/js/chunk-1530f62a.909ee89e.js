(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1530f62a"],{"3cb9":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"container"},[a("div",{ref:"stats"}),a("div",{ref:"canvas",attrs:{id:"WebGL-output"}})])},o=[],n=a("f383"),r=(Math.PI,new THREE.Group),s=new THREE.Group,d=[],c={mixins:[n["a"]],methods:{queryData:function(){for(var t=0;t<20;t++){var i=e(),a=e(i);d.push({main:a,vice:i})}function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=Math.round(Math.random()*t);return 0===i?.01:i}},initWebGL:function(){var t=this.initBasics(this.$refs.canvas,{position:{x:30,y:10,z:35},antialias:!0},{clearColor:15856113,shadowEnabled:!0}),i=t.scene,a=t.camera,e=t.renderer;this.scene=i,this.camera=a,this.renderer=e;var o=this.initStats(this.$refs.stats),n=this.addColumn();this.addLight(),this.addAxis(),this.linstenMouseMove(n);var d=this.addControl(),c=new THREE.Clock;r.add(s),i.add(r);var h=function t(){o.update();var n=c.getDelta();d.update(n),requestAnimationFrame(t),e.render(i,a)};h()},addColumn:function(){var t=this,i=[],a=new THREE.Group;return d.forEach(function(e,o){var n=t.initMaterial("MeshLambert",{color:7648993}),r=t.initMaterial("MeshLambert",{color:16758623}),s=t.initGeometry("Box",1.4,e.main,2),d=new THREE.Mesh(s,n);d.selfValue=Math.floor(e.main),d.position.set(2*o,e.main/2,0),d.castShadow=!0,d.receiveShadow=!0;var c=t.initGeometry("Box",1.4,e.vice,2),h=new THREE.Mesh(c,r);h.selfValue=Math.floor(e.vice),h.position.set(2*o,e.vice/2,-3),h.castShadow=!0,h.receiveShadow=!0,a.add(d),a.add(h),i.push(d),i.push(h)}),a.position.set(1,0,4.5),r.add(a),i},addLight:function(){var t=this.initLight("Ambient",{color:15658734}),i=this.initTarget(30,0,0),a=this.initLight("Directional",{color:9539985,position:{x:70,y:30,z:30},castShadow:!0,shadow:{camera:{near:2,far:120,left:-20,right:20,top:25,bottom:-20},mapSize:{width:2048,height:2048}}});a.target=i,r.add(t),r.add(a),this.light=a},addAxis:function(){for(var t=this,i=new THREE.Group,a=this.v3,e=40,o=12,n=6,s=(a(0,0,0),a(e,0,0)),d=a(e,0,n),c=a(0,0,n),h=(a(0,o,0),a(e,o,0),a(e,o,n),a(0,o,n)),l=[],u=5;u<=e;u+=4){var v=a(u,0,n+.6),f=a(u,0,0),p=a(u,o,0);l.push([v,f,p]),this.addAxisLabel(Math.floor(u/2+1),u,0,n+2)}for(var m=[],b=0;b<=o;b+=3){var w=a(0,b,0),E=a(e,b,0),x=a(0,b,n+.6);m.push([x,w,E]),this.addAxisLabel(b,0,b,n+2)}for(var g=[],M=0;M<n;M+=3){var L=a(e+.6,0,M),C=a(0,0,M),S=a(0,o,M);g.push([L,C,S]);var T=0===M?"高风险次数":"风险干预次数";this.addAxisLabel(T,e+1.5,0,M+1.2)}var A=[[h,c,d,s]].concat(l,m,g);A.forEach(function(a,e){a.forEach(function(o,n){var r=a[n+1];if(r){var s=t.initLine([o,r],{color:0===e?0:12632256});i.add(s)}})}),r.add(i)},addAxisLabel:function(t,i,a,e){var o=this.textSprite(t,{scale:2.5});o.position.set(i,a,e),s.add(o)},addControl:function(){var t=this.initControls("Trackball",this.camera,{rotateSpeed:1,zoomSpeed:1,panSpeed:1,target:{x:20,y:5,z:0}});return t},addAxes:function(t){var i=this.initAxes(t);this.scene.add(i)},addTarget:function(t,i,a){var e=new THREE.Object3D;return e.position.set(t,i,a),r.add(e),e},linstenMouseMove:function(t){var i=this,a=null,e=this.color(16777215),o=null;this.listenEvent("mousemove",this.camera,t,function(t){if(t.length<1)return r.remove(o),void(a&&(a.material.color=e,a=null));if(t=t[0].object,a!==t){a&&(a.material.color=e,r.remove(o)),e=t.material.color,t.material.color=i.color(14423100),o=i.textSprite(t.selfValue,{textColor:"#DC143C",scale:4});var n=t.position,s=n.x,d=n.y,c=n.z;o.position.set(s+1,2*d+.5,c+4.5),r.add(o),a=t}})},initGUI:function(){var t=this,i=new function(){this.color=16777215};gui.addColor(i,"color").onChange(function(i){t.light.color=t.color(i)})}},mounted:function(){this.queryData(),this.initWebGL()}},h=c,l=(a("b10d"),a("2877")),u=Object(l["a"])(h,e,o,!1,null,"1e8ef6e2",null);i["default"]=u.exports},"9b24":function(t,i,a){},b10d:function(t,i,a){"use strict";var e=a("9b24"),o=a.n(e);o.a}}]);
//# sourceMappingURL=chunk-1530f62a.909ee89e.js.map
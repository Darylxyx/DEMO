{"version":3,"sources":["webpack:///./src/components/G7logo.vue?f7ac","webpack:///./src/App.vue?0f2a","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/mixins/index.js","webpack:///src/components/G7logo.vue","webpack:///./src/components/G7logo.vue?0f89","webpack:///./src/components/G7logo.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/G7logo.vue?fb55"],"names":["content","__webpack_require__","module","i","locals","exports","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","normalizeComponent","ssrContext","setList","assignment","target","params","arguments","length","undefined","prevKey","keys_default","forEach","key","value","indexOf","set","x","y","z","nextTarget","typeof_default","THREE","Color","mixins","methods","initBasics","canvasDom","cameraParams","rendererParams","W","offsetWidth","H","offsetHeight","scene","Scene","cpDefault","fov","near","far","aspect","position","cp","assign_default","camera","PerspectiveCamera","lookAt","renderer","WebGLRenderer","rp","clearColor","shadowEnabled","setSize","setClearColor","shadowMap","enabled","appendChild","domElement","listenResize","initAxes","AxesHelper","initStats","stats","stats_min_default","a","sd","setMode","style","left","top","$refs","initLight","type","light","constructor","constructorCheck","initMaterial","material","initGeometry","_len","Array","_key","geometry","concat","toConsumableArray_default","v3","Vector3","f3","p1","p2","p3","Face3","tc","color","window","addEventListener","updateProjectionMatrix","result","console","warn","createMultiMaterialObject","materials","group","Group","l","add","Mesh","initControls","control","changeCenter","wrapper","Object3D","listenClick","objList","callback","document","event","vector","clientX","innerWidth","clientY","innerHeight","unproject","intersects","Raycaster","sub","normalize","intersectObjects","PI","Math","G7logo","_this","_initBasics","addGeom","addCircle","addPoints","movePoints","animateStart","Clock","update","getDelta","delta","renderScene","vertices","onUpdate","start","_this2","geom","circle","Geometry","_rdPoint","rdPoint","dz","particle","points","cloud","_this3","_ref","InOut","delay","tween","AdditiveBlending","generateSprite","gradient","height","canvas","texture","axes","initWebGL","components_G7logo","ref","_v","src_components_G7logo","G7logo_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","redirect","name","component","config","productionTip","Vue","Bridge","el","components","App","template","push"],"mappings":"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","file":"static/js/app.98dfe8c1a7cc946b6aef.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1dd2eeb8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/LESS-loader/dist/cjs.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./G7logo.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"c6937374\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1dd2eeb8\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/LESS-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/G7logo.vue\n// module id = 7O/7\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5dbd3e64\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dbd3e64\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dbd3e64\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5dbd3e64\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id='app'>\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style lang='less' scoped>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Stats from 'stats.js';\nimport 'three/examples/js/controls/TrackballControls';\n\nconst setList = ['position', 'rotation', 'scale']; // 需要通过 set 方法来设置的属性列表\nfunction assignment(target, params = {}, prevKey) {\n    const keys = Object.keys(params);\n    keys.forEach((key) => {\n        const value = params[key];\n        if (setList.indexOf(key) > -1) {\n            target[key].set(value.x, value.y, value.z);\n            return;\n        }\n        if (key === 'color') { // 颜色属性只能通过 THREE.Color 赋值\n            target[key] = new THREE.Color(value);\n            return;\n        }\n        let nextTarget;\n        if (!prevKey) { // 顶层\n            nextTarget = target;\n        } else {\n            if (!target[prevKey]) target[prevKey] = {};\n            nextTarget = target[prevKey];\n        }\n        if (typeof value === 'object') {\n            assignment(nextTarget, value, key);\n        } else {\n            nextTarget[key] = value;\n        }\n    });\n}\n\nexport default {\n    methods: {\n        initBasics(canvasDom, cameraParams, rendererParams) { // 创建场景、相机、渲染器\n            const W = canvasDom.offsetWidth;\n            const H = canvasDom.offsetHeight;\n            // 场景\n            const scene = new THREE.Scene();\n            // 相机\n            const cpDefault = { // fov: 视场角度；near: 近边距离；far: 远边距离\n                fov: 50,\n                near: 0.1,\n                far: 1000,\n                aspect: W / H,\n                position: {x: -30, y: 40, z: 30},\n            };\n            const cp = Object.assign(cpDefault, cameraParams);\n            const camera = new THREE.PerspectiveCamera(cp.fov, cp.aspect, cp.near, cp.far);\n            camera.position.set(cp.position.x, cp.position.y, cp.position.z);\n            camera.lookAt(scene.position);\n            // 渲染器\n            const renderer = new THREE.WebGLRenderer();\n            const rpDefault = {clearColor: 0xeeeeee, shadowEnabled: false}; // shadowEnabled: 是否开启阴影\n            const rp = Object.assign(rpDefault, rendererParams);\n            renderer.setSize(W, H);\n            renderer.setClearColor(rp.clearColor);\n            renderer.shadowMap.enabled = rp.shadowEnabled;\n            canvasDom.appendChild(renderer.domElement);\n            renderer.render(scene, camera);\n\n            this.listenResize(canvasDom, camera, renderer);\n\n            return {\n                scene,\n                camera,\n                renderer\n            };\n        },\n        initAxes(length = 30) { // 创建坐标轴\n            return new THREE.AxesHelper(length);\n        },\n        initStats() { // 创建性能检测器\n            const stats = new Stats();\n            const sd = stats.domElement;\n            stats.setMode(0);\n            sd.style.position = 'absolute';\n            sd.style.left = '15px';\n            sd.style.top = '0';\n            this.$refs.stats.appendChild(sd);\n            return stats;\n        },\n        initLight(type, params = {}) { // 光源类型，颜色，其余参数\n            let light;\n            const constructor = `${type}Light`;\n            if (!this.constructorCheck(constructor)) return;\n            light = new THREE[constructor]();\n            assignment(light, params);\n            return light;\n        },\n        initMaterial(type, params = {}) { // 创建材质\n            let material;\n            const constructor = `${type}Material`;\n            if (!this.constructorCheck(constructor)) return;\n            material = new THREE[constructor]();\n            assignment(material, params);\n            return material;\n        },\n        initGeometry(type, ...params) { // 创建几何图形\n            let geometry;\n            const constructor = `${type}Geometry`;\n            if (!this.constructorCheck(constructor)) return;\n            // const params = [].slice.call(arguments).slice(1); // ESLint 不支持 arguments 对象\n            geometry = new THREE[constructor](...params);\n            return geometry;\n        },\n        v3(x, y, z) { // 创建 Vector3 对象\n            return new THREE.Vector3(x, y, z);\n        },\n        f3(p1, p2, p3) { // 创建 Face3 对象\n            return new THREE.Face3(p1, p2, p3);\n        },\n        tc(color) { // 创建 Color 对象\n            return new THREE.Color(color);\n        },\n        listenResize(canvasDom, camera, renderer) { // 窗口自适应\n            function onResize() {\n                const W = canvasDom.offsetWidth;\n                const H = canvasDom.offsetHeight;\n                camera.aspect = W / H;\n                camera.updateProjectionMatrix();\n                renderer.setSize(W, H);\n            }\n            window.addEventListener('resize', onResize, false);\n        },\n        constructorCheck(target) { // 验证THREE对象下是否有指定构造器\n            let result;\n            if (typeof THREE[target] !== 'function') {\n                console.warn(`THREE.${target} is not a constructor.`);\n                result = false;\n            } else {\n                result = true;\n            }\n            return result;\n        },\n        createMultiMaterialObject( geometry, materials) { \n            var group = new THREE.Group();\n            for ( var i = 0, l = materials.length; i < l; i ++ ) {\n                group.add( new THREE.Mesh( geometry, materials[ i ] ) );\n            }\n            return group;\n        },\n        initControls(type, camera, params = {}) { // 初始化相机控制器\n            let control;\n            const constructor = `${type}Controls`;\n            if (!this.constructorCheck(constructor)) return;\n            control = new THREE[constructor](camera);\n            assignment(control, params);\n            return control;\n        },\n        changeCenter(target, x, y, z) { // 设置旋转中心\n            const wrapper = new THREE.Object3D();\n            wrapper.add(target);\n            wrapper.position.set(0, 0, 0);\n            target.position.set(x, y, z);\n            return wrapper;\n        },\n        listenClick(camera, objList, callback) { // 监听click行为\n            function handleEvent(event) {\n                let vector = new THREE.Vector3((event.clientX / window.innerWidth) * 2 - 1, -(event.clientY / window.innerHeight) * 2 + 1, 0.5);\n                vector = vector.unproject(camera);\n                const raycaster = new THREE.Raycaster(camera.position, vector.sub(camera.position).normalize());\n                const intersects = raycaster.intersectObjects(objList);\n                if (intersects.length > 0) {\n                    callback && callback(intersects);\n                }\n            }\n            document.addEventListener('click', handleEvent, false);\n        },\n    },\n};\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/index.js","<template>\n    <div>\n        <div ref='stats'></div>\n        <div ref='canvas' id='WebGL-output'></div>\n    </div>\n</template>\n<script>\nimport TWEEN from 'tween.js';\nimport { GUI } from 'dat.gui';\nimport mixin from '../mixins/index';\n\nconst PI = Math.PI;\nexport default {\n    mixins: [mixin],\n    data() {\n        return {\n            scene: null,\n            camera: null,\n            renderer: null,\n            isAnimating: true\n        };\n    },\n    methods: {\n        async initWebGL() {\n            const {\n                scene,\n                camera,\n                renderer\n            } = this.initBasics(this.$refs.canvas, {far: 100000, position: {x: 0, y: 0, z: 400}}, {clearColor: 0x000000});\n            this.scene = scene;\n            this.camera = camera;\n            this.render = renderer;\n\n            // scene.fog = new THREE.FogExp2(0xffffff, 100);\n            // scene.fog = new THREE.Fog(0xffffff, 0.015, 100)\n\n            // this.addAxes(scene);\n\n            // const stats = this.initStats();\n\n            await this.addGeom();\n            // this.geom = this.addGeom();\n\n            const circle = this.addCircle();\n\n            this.points = this.addPoints();\n            // console.log(this.points);\n\n            this.listenClick(camera, [circle], (target) => {\n                this.movePoints();\n            });\n\n            setTimeout(() => {\n                this.animateStart();\n                setTimeout(() => {\n                    this.isAnimating = false;\n                }, 1500);\n            }, 2000);\n\n            // 动画\n            const controls = this.addControls(camera);\n            const clock = new THREE.Clock();\n            const renderScene = () => {\n                // stats.update();\n                TWEEN.update();\n                this.points.rotation.y += 0.001;\n                const delta = clock.getDelta();\n                controls.update(delta);\n                requestAnimationFrame(renderScene);\n                renderer.render(scene, camera);\n            }\n\n            renderScene();\n        },\n        animateStart() {\n            const geom = this.points.geometry;\n            const vertices = geom.vertices;\n            function onUpdate() {\n                geom.verticesNeedUpdate = true;\n            }\n            vertices.forEach((v) => {\n                v.tween.onUpdate(onUpdate);\n                v.tween.start();\n            });\n        },\n        addGeom() {\n            return new Promise((resolve, reject) => {\n                const geom = this.initGeometry('Sphere', 110, 30, 30);\n                this.geom = geom;\n                resolve(geom);\n            });\n        },\n        addCircle() {\n            const material = this.initMaterial('MeshNormal', {visible: false});\n            const circle = new THREE.Mesh(this.geom, material);\n            this.scene.add(circle);\n            return circle;\n        },\n        rdPoint() {\n            const range = 800;\n            const x = Math.random() * range - range / 2;\n            const y = Math.random() * range - range / 2;\n            const z = Math.random() * range - range / 2;\n            return {x, y, z};\n        },\n        addPoints() { // 创建点\n            const points = new THREE.Geometry();\n            const vertices = this.geom.vertices;\n            const num = vertices.length;\n            for (let i = 0; i < num; i++) {\n                const {x, y, z} = this.rdPoint();\n                const particle = this.v3(x, y, z);\n                const {x: dx, y: dy, z: dz} = vertices[i];\n                const target = this.v3(dx, dy, dz);\n                points.vertices.push(particle);\n                points.vertices[i].tween = this.tweenInit(particle, target);\n            }\n            const cloud = this.createPointCloud(points);\n            cloud.rotation.set(PI/6, 0, PI/6);\n            this.scene.add(cloud);\n            return cloud;\n        },\n        movePoints() {\n            if (this.isAnimating) return;\n            this.isAnimating = true;\n            const duration = 1000;\n            const moveAnimate = (type) => { // 0:散开动画 1:聚合动画\n                const vertices = this.points.geometry.vertices;\n                vertices.forEach((v, i) => {\n                    const {x, y, z} = (type === 0) ? this.rdPoint() : this.geom.vertices[i];\n                    const particle = this.v3(x, y, z);\n                    v.tween.to(particle, duration);\n                });\n                this.animateStart();\n            };\n            moveAnimate(0);\n            setTimeout(() => {\n                moveAnimate(1);\n                setTimeout(() => {\n                    this.isAnimating = false;\n                }, duration * 1.5);\n            }, duration*1.5);\n        },\n        tweenInit(prev, next) {\n            const duration = 1000;\n            const delay = Math.floor(duration * Math.random() / 2);\n            const tween = new TWEEN.Tween(prev).to(next, duration);\n            tween.easing(TWEEN.Easing.Sinusoidal.InOut);\n            tween.delay(delay);\n            return tween;\n        },\n        createPointCloud(geom) {\n            var material = new THREE.PointsMaterial({\n                color: 0xffffff,\n                size: 3,\n                transparent: true,\n                blending: THREE.AdditiveBlending,\n                map: this.generateSprite(),\n                fog: true,\n            });\n\n            var cloud = new THREE.Points(geom, material);\n            cloud.sortParticles = true;\n            return cloud;\n        },\n        generateSprite() {\n            var canvas = document.createElement('canvas');\n            canvas.width = 32;\n            canvas.height = 32;\n\n            var context = canvas.getContext('2d');\n            var gradient = context.createRadialGradient(canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width / 2);\n            gradient.addColorStop(0, 'rgba(255,255,255,1)');\n            gradient.addColorStop(0.2, 'rgba(255,255,255,1)');\n            gradient.addColorStop(0.9, 'rgba(255,255,255,1)');\n            gradient.addColorStop(1, 'rgba(0,0,0,1)');\n\n            context.fillStyle = gradient;\n            context.fillRect(0, 0, canvas.width, canvas.height);\n\n            var texture = new THREE.Texture(canvas);\n            texture.needsUpdate = true;\n            return texture;\n        },\n        addAxes(scene) {\n            const axes = this.initAxes(50);\n            scene.add(axes);\n        },\n        addControls(camera) { // 添加相机控制器\n            const controls = this.initControls('Trackball', camera, {\n                rotateSpeed: 1.0,\n                zoomSpeed: 1.0,\n                panSpeed: 1.0,\n                // noZoom: true,\n            });\n            return controls;\n        },\n    },\n    mounted() {\n        this.initWebGL();\n    },\n};\n</script>\n<style lang='LESS' scoped>\n#WebGL-output{\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/G7logo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"stats\"}),_vm._v(\" \"),_c('div',{ref:\"canvas\",attrs:{\"id\":\"WebGL-output\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1dd2eeb8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/G7logo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1dd2eeb8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!LESS-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./G7logo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./G7logo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./G7logo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1dd2eeb8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./G7logo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1dd2eeb8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/G7logo.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport G7Logo from '@/components/G7logo';\n\nVue.use(Router)\n\nexport default new Router({\n    routes: [\n        {\n            path: '/',\n            redirect: '/points',\n        },\n        {\n            path: '/points',\n            name: 'G7Logo',\n            component: G7Logo,\n        }\n    ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport router from './router';\n\nimport '@/assets/css/base.less';\n// import '@/assets/js/base.js';\n\n// console.log(window.basefn);\n\nVue.config.productionTip = false;\n\nwindow.Vue = Vue;\nwindow.Bridge = new Vue();\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#WebGL-output[data-v-1dd2eeb8]{position:fixed;top:0;bottom:0;left:0;right:0}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1dd2eeb8\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/LESS-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/G7logo.vue\n// module id = zXeW\n// module chunks = 1"],"sourceRoot":""}